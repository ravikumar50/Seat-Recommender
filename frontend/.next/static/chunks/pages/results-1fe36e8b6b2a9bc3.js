(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[482],{820:(e,s,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/results",function(){return n(9638)}])},4081:(e,s,n)=>{"use strict";n.d(s,{A:()=>i});var a=n(7876);function i(e){let{recommendation:s,reason:n,confidence:i,flightInfo:l,sunInfo:c}=e;return(0,a.jsxs)("div",{className:"recommendation-container",children:[(0,a.jsx)("h2",{className:"recommendation-title",children:"Recommended Side"}),(0,a.jsx)("p",{className:"recommendation-text",children:s.toUpperCase()}),n&&(0,a.jsxs)("div",{className:"recommendation-reason",children:[(0,a.jsx)("p",{children:n}),(0,a.jsxs)("div",{className:"confidence-badge",children:["Confidence: ",(0,a.jsx)("span",{className:"confidence-".concat(i),children:i})]})]}),l&&(0,a.jsxs)("div",{className:"flight-info",children:[(0,a.jsxs)("div",{className:"info-item",children:[(0,a.jsx)("span",{className:"info-label",children:"Distance:"}),(0,a.jsxs)("span",{className:"info-value",children:[l.distance," km"]})]}),(0,a.jsxs)("div",{className:"info-item",children:[(0,a.jsx)("span",{className:"info-label",children:"Duration:"}),(0,a.jsxs)("span",{className:"info-value",children:[l.duration," min"]})]}),(0,a.jsxs)("div",{className:"info-item",children:[(0,a.jsx)("span",{className:"info-label",children:"Flight Bearing:"}),(0,a.jsxs)("span",{className:"info-value",children:[l.bearing,"\xb0"]})]})]}),c&&(0,a.jsxs)("div",{className:"sun-info",children:[(0,a.jsxs)("div",{className:"info-item",children:[(0,a.jsx)("span",{className:"info-label",children:"Sun Azimuth:"}),(0,a.jsxs)("span",{className:"info-value",children:[c.azimuth,"\xb0"]})]}),(0,a.jsxs)("div",{className:"info-item",children:[(0,a.jsx)("span",{className:"info-label",children:"Sun Altitude:"}),(0,a.jsxs)("span",{className:"info-value",children:[c.altitude,"\xb0"]})]}),(0,a.jsxs)("div",{className:"info-item",children:[(0,a.jsx)("span",{className:"info-label",children:"Daytime:"}),(0,a.jsx)("span",{className:"info-value",children:c.isDaytime?"Yes":"No"})]})]}),(0,a.jsx)("div",{className:"map-button-container",children:(0,a.jsx)("button",{onClick:()=>{let e=document.querySelector(".map-section");e&&e.scrollIntoView({behavior:"smooth"})},className:"view-map-button",children:"\uD83D\uDDFAï¸ View Flight Path"})})]})}},9099:(e,s,n)=>{e.exports=n(6296)},9638:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>h});var a=n(7876),i=n(8847),l=n.n(i),c=n(9099),t=n(4232),o=n(8145),r=n.n(o),d=n(4081);let m=l()(()=>Promise.all([n.e(805),n.e(324)]).then(n.bind(n,9324)),{loadableGenerated:{webpack:()=>[9324]},ssr:!1}),h=()=>{let{departure:e,arrival:s,datetime:n}=(0,c.useRouter)().query,[i,l]=(0,t.useState)(null),[o,h]=(0,t.useState)(!0),[u,f]=(0,t.useState)(null),[x,j]=(0,t.useState)(!1);return((0,t.useEffect)(()=>{e&&s&&n&&r().post("".concat("http://localhost:4000/api","/flight"),{departure:e,arrival:s,datetime:n}).then(e=>l(e.data)).catch(e=>{var s,n;f(Error((null==(n=e.response)||null==(s=n.data)?void 0:s.error)||e.message||"Request failed"))}).finally(()=>h(!1))},[e,s,n]),o)?(0,a.jsx)("div",{children:"Loading..."}):u?(0,a.jsxs)("div",{className:"results-container",children:[(0,a.jsx)("h1",{children:"Oops!"}),(0,a.jsx)("p",{children:u.message}),(0,a.jsx)("button",{onClick:()=>{h(!0),f(null),j(!0)},children:"Try Again"})]}):(0,a.jsxs)("div",{className:"results-container",children:[(0,a.jsx)("h1",{children:"Your Recommendation"}),(0,a.jsx)(d.A,{recommendation:i.recommendation,reason:i.reason,confidence:i.confidence,flightInfo:i.flightInfo,sunInfo:i.sunInfo}),i.positions&&i.positions.length>0&&(0,a.jsx)(m,{path:i.positions,sunPositions:i.positions})]})}}},e=>{e.O(0,[815,636,593,792],()=>e(e.s=820)),_N_E=e.O()}]);